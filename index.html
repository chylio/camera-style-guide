import React, { useState, useMemo } from 'react';
import { Camera, Palette, Eye, Move, Aperture, Sparkles, Monitor, Film } from 'lucide-react';

const VisualGuide = () => {
  const [selectedMainCategory, setSelectedMainCategory] = useState('shots');
  const [selectedSubCategory, setSelectedSubCategory] = useState('all');

  const shotsData = [
    {
      id: 1,
      chinese: "遠景",
      english: "Long Shot / Wide Shot",
      description: "拍攝整個場景或人物全身，強調環境或空間感",
      usage: "用來交代地點",
      mainCategory: "shots",
      subCategory: "基本構圖",
      color: "from-yellow-400 to-orange-500",
      bgColor: "bg-yellow-50",
      icon: "📐"
    },
    {
      id: 2,
      chinese: "中景",
      english: "Medium Shot",
      description: "拍攝人物半身，常用於對話、工作情境",
      usage: "日常拍攝、人物互動",
      mainCategory: "shots",
      subCategory: "基本構圖",
      color: "from-green-400 to-emerald-500",
      bgColor: "bg-green-50",
      icon: "🎭"
    },
    {
      id: 3,
      chinese: "近景",
      english: "Close-up",
      description: "拍攝人物臉部、物體細節，強調情緒或重點",
      usage: "情緒表達、細節展示",
      mainCategory: "shots",
      subCategory: "基本構圖",
      color: "from-pink-400 to-rose-500",
      bgColor: "bg-pink-50",
      icon: "😊"
    },
    {
      id: 4,
      chinese: "特寫",
      english: "Extreme Close-up",
      description: "非常靠近，僅拍眼睛、手指、鍵盤等細節",
      usage: "極致細節、戲劇效果",
      mainCategory: "shots",
      subCategory: "基本構圖",
      color: "from-purple-400 to-violet-500",
      bgColor: "bg-purple-50",
      icon: "👁️"
    },
    {
      id: 5,
      chinese: "鳥瞰",
      english: "Bird's Eye View / Top-down View",
      description: "從高空俯瞰場景，顯示全貌、位置關係",
      usage: "空間關係、全景展示",
      mainCategory: "shots",
      subCategory: "角度技巧",
      color: "from-cyan-400 to-blue-500",
      bgColor: "bg-cyan-50",
      icon: "🦅"
    },
    {
      id: 6,
      chinese: "仰視",
      english: "Low Angle Shot",
      description: "從下往上拍，讓主體看起來強大、莊嚴",
      usage: "增強氣勢、權威感",
      mainCategory: "shots",
      subCategory: "角度技巧",
      color: "from-amber-400 to-yellow-500",
      bgColor: "bg-amber-50",
      icon: "⬆️"
    },
    {
      id: 7,
      chinese: "俯視",
      english: "High Angle Shot",
      description: "從上往下拍，讓主體顯得脆弱、渺小",
      usage: "營造渺小感、俯瞰效果",
      mainCategory: "shots",
      subCategory: "角度技巧",
      color: "from-indigo-400 to-purple-500",
      bgColor: "bg-indigo-50",
      icon: "⬇️"
    },
    {
      id: 8,
      chinese: "主觀鏡頭",
      english: "POV (Point of View)",
      description: "表現角色看到的畫面，增加臨場感",
      usage: "第一人稱視角、沉浸體驗",
      mainCategory: "shots",
      subCategory: "視角技巧",
      color: "from-teal-400 to-cyan-500",
      bgColor: "bg-teal-50",
      icon: "👤"
    },
    {
      id: 9,
      chinese: "過肩鏡頭",
      english: "Over-the-shoulder shot",
      description: "從角色肩膀後方拍另一角色，常用於對話場景",
      usage: "對話場景、人物關係",
      mainCategory: "shots",
      subCategory: "視角技巧",
      color: "from-rose-400 to-pink-500",
      bgColor: "bg-rose-50",
      icon: "🤝"
    },
    {
      id: 10,
      chinese: "移動鏡頭",
      english: "Tracking Shot / Pan / Zoom",
      description: "模擬鏡頭運動，例如推進、橫移、拉近",
      usage: "動態效果、跟隨動作",
      mainCategory: "shots",
      subCategory: "動態技巧",
      color: "from-emerald-400 to-green-500",
      bgColor: "bg-emerald-50",
      icon: "🎬"
    },
    {
      id: 11,
      chinese: "景深控制",
      english: "Shallow Depth of Field / Blurred Background",
      description: "背景模糊、主體清晰，凸顯焦點",
      usage: "主體突出、藝術效果",
      mainCategory: "shots",
      subCategory: "技術控制",
      color: "from-violet-400 to-purple-500",
      bgColor: "bg-violet-50",
      icon: "🎯"
    }
  ];

  const styleData = [
    // 插畫風格
    {
      id: 12,
      chinese: "插畫風",
      english: "illustration style / hand-drawn",
      description: "溫暖、可愛、故事感",
      usage: "教育、情境模擬",
      mainCategory: "styles",
      subCategory: "插畫風格",
      color: "from-yellow-400 to-orange-400",
      bgColor: "bg-yellow-50",
      icon: "🎨"
    },
    {
      id: 13,
      chinese: "水彩風",
      english: "watercolor",
      description: "柔和、夢幻、有情感氛圍",
      usage: "情感表達、溫馨場景",
      mainCategory: "styles",
      subCategory: "插畫風格",
      color: "from-blue-400 to-cyan-400",
      bgColor: "bg-blue-50",
      icon: "🖌️"
    },
    {
      id: 14,
      chinese: "油畫風",
      english: "oil painting",
      description: "厚重質感、莊嚴古典",
      usage: "經典藝術、歷史場景",
      mainCategory: "styles",
      subCategory: "插畫風格",
      color: "from-amber-400 to-orange-500",
      bgColor: "bg-amber-50",
      icon: "🖼️"
    },
    {
      id: 15,
      chinese: "馬克筆風",
      english: "marker pen style",
      description: "鮮明、手繪感、速寫感",
      usage: "設計草圖、現代插畫",
      mainCategory: "styles",
      subCategory: "插畫風格",
      color: "from-green-400 to-emerald-400",
      bgColor: "bg-green-50",
      icon: "✏️"
    },
    {
      id: 16,
      chinese: "鉛筆素描",
      english: "pencil sketch / line drawing",
      description: "黑白、冷靜、草圖風",
      usage: "初步概念草圖",
      mainCategory: "styles",
      subCategory: "插畫風格",
      color: "from-gray-400 to-slate-500",
      bgColor: "bg-gray-50",
      icon: "✏️"
    },
    // 動畫風格
    {
      id: 17,
      chinese: "皮克斯風格",
      english: "Pixar style / 3D cartoon",
      description: "溫馨、立體、動畫電影感",
      usage: "兒童內容、可愛角色",
      mainCategory: "styles",
      subCategory: "動畫風格",
      color: "from-pink-400 to-rose-400",
      bgColor: "bg-pink-50",
      icon: "🎭"
    },
    {
      id: 18,
      chinese: "吉卜力風格",
      english: "Studio Ghibli / anime style",
      description: "柔和細膩、日系幻想",
      usage: "療癒內容、夢幻場景",
      mainCategory: "styles",
      subCategory: "動畫風格",
      color: "from-emerald-400 to-teal-400",
      bgColor: "bg-emerald-50",
      icon: "🌸"
    },
    {
      id: 19,
      chinese: "黑白動畫風",
      english: "black and white animation",
      description: "經典懷舊、對比強烈",
      usage: "復古效果、懷舊氛圍",
      mainCategory: "styles",
      subCategory: "動畫風格",
      color: "from-slate-400 to-gray-500",
      bgColor: "bg-slate-50",
      icon: "🎬"
    },
    {
      id: 20,
      chinese: "卡漫風格",
      english: "comic / webtoon style",
      description: "有格線、動作感",
      usage: "做漫畫感影片",
      mainCategory: "styles",
      subCategory: "動畫風格",
      color: "from-purple-400 to-violet-400",
      bgColor: "bg-purple-50",
      icon: "💫"
    },
    // 攝影風格
    {
      id: 21,
      chinese: "寫實攝影",
      english: "photorealistic / ultra-realistic",
      description: "真實感強",
      usage: "模擬場景、醫療場域",
      mainCategory: "styles",
      subCategory: "攝影風格",
      color: "from-cyan-400 to-blue-400",
      bgColor: "bg-cyan-50",
      icon: "📷"
    },
    {
      id: 22,
      chinese: "微距攝影",
      english: "macro photography",
      description: "拍物件細節",
      usage: "眼睛、手、儀器等",
      mainCategory: "styles",
      subCategory: "攝影風格",
      color: "from-indigo-400 to-purple-400",
      bgColor: "bg-indigo-50",
      icon: "🔍"
    },
    {
      id: 23,
      chinese: "膠片風格",
      english: "film photography / vintage",
      description: "復古感、情緒濾鏡感",
      usage: "懷舊氛圍、復古效果",
      mainCategory: "styles",
      subCategory: "攝影風格",
      color: "from-orange-400 to-red-400",
      bgColor: "bg-orange-50",
      icon: "📸"
    },
    {
      id: 24,
      chinese: "對比強烈",
      english: "high contrast",
      description: "表現緊張、戲劇性",
      usage: "戲劇效果、強烈對比",
      mainCategory: "styles",
      subCategory: "攝影風格",
      color: "from-red-400 to-pink-400",
      bgColor: "bg-red-50",
      icon: "⚡"
    },
    {
      id: 25,
      chinese: "景深模糊",
      english: "shallow depth of field",
      description: "聚焦主體，背景虛化",
      usage: "強調焦點",
      mainCategory: "styles",
      subCategory: "攝影風格",
      color: "from-teal-400 to-emerald-400",
      bgColor: "bg-teal-50",
      icon: "🎯"
    },
    // 氛圍風格
    {
      id: 26,
      chinese: "柔和溫暖",
      english: "soft and warm",
      description: "醫療、關懷、教育場景常用",
      usage: "溫馨場景、關懷內容",
      mainCategory: "styles",
      subCategory: "氛圍風格",
      color: "from-yellow-400 to-amber-400",
      bgColor: "bg-yellow-50",
      icon: "☀️"
    },
    {
      id: 27,
      chinese: "懸疑驚悚",
      english: "suspense / thriller",
      description: "黑暗光源、偏色、張力強",
      usage: "懸疑內容、驚悚效果",
      mainCategory: "styles",
      subCategory: "氛圍風格",
      color: "from-gray-500 to-slate-600",
      bgColor: "bg-gray-50",
      icon: "🌙"
    },
    {
      id: 28,
      chinese: "劇場光感",
      english: "cinematic lighting",
      description: "有主燈源、戲劇氛圍、色溫強烈",
      usage: "電影感、戲劇效果",
      mainCategory: "styles",
      subCategory: "氛圍風格",
      color: "from-purple-400 to-indigo-400",
      bgColor: "bg-purple-50",
      icon: "🎭"
    },
    {
      id: 29,
      chinese: "治癒風",
      english: "healing / calming style",
      description: "藍綠色調、日光自然風格",
      usage: "療癒內容、放鬆氛圍",
      mainCategory: "styles",
      subCategory: "氛圍風格",
      color: "from-green-400 to-teal-400",
      bgColor: "bg-green-50",
      icon: "🌿"
    },
    // 設計風格
    {
      id: 30,
      chinese: "平面風格",
      english: "flat illustration",
      description: "扁平化、簡潔明亮",
      usage: "報告、簡報常用",
      mainCategory: "styles",
      subCategory: "設計風格",
      color: "from-cyan-400 to-sky-400",
      bgColor: "bg-cyan-50",
      icon: "📊"
    },
    {
      id: 31,
      chinese: "漸層風格",
      english: "gradient style",
      description: "現代感、科技風",
      usage: "現代設計、科技產品",
      mainCategory: "styles",
      subCategory: "設計風格",
      color: "from-pink-400 to-purple-400",
      bgColor: "bg-pink-50",
      icon: "🌈"
    },
    {
      id: 32,
      chinese: "等距透視",
      english: "isometric style",
      description: "適合做流程圖、空間表現",
      usage: "流程圖、立體圖解",
      mainCategory: "styles",
      subCategory: "設計風格",
      color: "from-emerald-400 to-green-400",
      bgColor: "bg-emerald-50",
      icon: "📐"
    },
    {
      id: 33,
      chinese: "UX風格",
      english: "UI/UX mockup",
      description: "畫介面圖、教學流程圖時可用",
      usage: "介面設計、流程說明",
      mainCategory: "styles",
      subCategory: "設計風格",
      color: "from-blue-400 to-indigo-400",
      bgColor: "bg-blue-50",
      icon: "💻"
    },
    // 特殊風格
    {
      id: 34,
      chinese: "奇幻風",
      english: "fantasy style",
      description: "精靈、魔法、童話氛圍",
      usage: "奇幻內容、魔法場景",
      mainCategory: "styles",
      subCategory: "特殊風格",
      color: "from-violet-400 to-purple-400",
      bgColor: "bg-violet-50",
      icon: "🧚"
    },
    {
      id: 35,
      chinese: "賽博龐克",
      english: "cyberpunk",
      description: "夜景、霓虹、未來感",
      usage: "科幻內容、未來場景",
      mainCategory: "styles",
      subCategory: "特殊風格",
      color: "from-cyan-400 to-purple-400",
      bgColor: "bg-cyan-50",
      icon: "🤖"
    },
    {
      id: 36,
      chinese: "夢境感",
      english: "dreamy / surreal",
      description: "超現實、迷幻風格",
      usage: "夢境場景、超現實效果",
      mainCategory: "styles",
      subCategory: "特殊風格",
      color: "from-pink-400 to-indigo-400",
      bgColor: "bg-pink-50",
      icon: "☁️"
    }
  ];

  const allData = [...shotsData, ...styleData];

  const mainCategories = [
    { key: 'shots', label: '鏡頭結構詞', icon: <Camera className="w-5 h-5" /> },
    { key: 'styles', label: '風格結構詞', icon: <Palette className="w-5 h-5" /> }
  ];

  const getSubCategories = (mainCat) => {
    if (mainCat === 'shots') {
      return ['all', '基本構圖', '角度技巧', '視角技巧', '動態技巧', '技術控制'];
    } else if (mainCat === 'styles') {
      return ['all', '插畫風格', '動畫風格', '攝影風格', '氛圍風格', '設計風格', '特殊風格'];
    }
    return ['all'];
  };

  const filteredData = useMemo(() => {
    return allData.filter(item => {
      const matchesMainCategory = item.mainCategory === selectedMainCategory;
      const matchesSubCategory = selectedSubCategory === 'all' || item.subCategory === selectedSubCategory;
      
      return matchesMainCategory && matchesSubCategory;
    });
  }, [selectedMainCategory, selectedSubCategory]);

  const getCategoryIcon = (category) => {
    const iconMap = {
      '基本構圖': <Camera className="w-4 h-4" />,
      '角度技巧': <Eye className="w-4 h-4" />,
      '視角技巧': <Eye className="w-4 h-4" />,
      '動態技巧': <Move className="w-4 h-4" />,
      '技術控制': <Aperture className="w-4 h-4" />,
      '插畫風格': <Palette className="w-4 h-4" />,
      '動畫風格': <Film className="w-4 h-4" />,
      '攝影風格': <Camera className="w-4 h-4" />,
      '氛圍風格': <Sparkles className="w-4 h-4" />,
      '設計風格': <Monitor className="w-4 h-4" />,
      '特殊風格': <Sparkles className="w-4 h-4" />
    };
    return iconMap[category] || <Camera className="w-4 h-4" />;
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-yellow-50 via-pink-50 to-blue-50 p-6">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="text-center mb-12">
          <h1 className="text-5xl font-bold mb-4 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent">
            攝影與風格詞彙指南
          </h1>
          <p className="text-xl text-gray-600 max-w-2xl mx-auto">
            完整的鏡頭結構詞與風格結構詞參考，讓你的創作更具專業水準
          </p>
        </div>

        {/* Main Category Toggle */}
        <div className="flex justify-center mb-8">
          <div className="bg-white rounded-2xl p-2 shadow-lg border border-gray-200">
            {mainCategories.map((category) => (
              <button
                key={category.key}
                onClick={() => {
                  setSelectedMainCategory(category.key);
                  setSelectedSubCategory('all');
                }}
                className={`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-3 ${
                  selectedMainCategory === category.key
                    ? 'bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg transform scale-105'
                    : 'text-gray-600 hover:bg-gray-50'
                }`}
              >
                {category.icon}
                {category.label}
              </button>
            ))}
          </div>
        </div>

        {/* Sub Category Filter */}
        <div className="mb-8 flex justify-center">
          <div className="flex flex-wrap gap-2">
            {getSubCategories(selectedMainCategory).map((category) => (
              <button
                key={category}
                onClick={() => setSelectedSubCategory(category)}
                className={`px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center gap-2 shadow-md ${
                  selectedSubCategory === category
                    ? 'bg-gradient-to-r from-orange-400 to-pink-400 text-white shadow-lg transform scale-105'
                    : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'
                }`}
              >
                {category !== 'all' && getCategoryIcon(category)}
                {category === 'all' ? '全部' : category}
              </button>
            ))}
          </div>
        </div>



        {/* Cards Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {filteredData.map((item, index) => (
            <div
              key={item.id}
              className={`group relative overflow-hidden rounded-3xl border-2 border-gray-100 hover:border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-2xl shadow-lg ${item.bgColor}`}
              style={{
                animationDelay: `${index * 50}ms`
              }}
            >
              {/* Gradient Accent */}
              <div className={`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${item.color}`} />
              
              {/* Content */}
              <div className="relative p-6 h-full flex flex-col bg-white/70 backdrop-blur-sm">
                {/* Header */}
                <div className="flex items-start justify-between mb-4">
                  <div className="flex-1">
                    <div className="flex items-center gap-3 mb-3">
                      <span className="text-3xl">{item.icon}</span>
                      <span className={`px-3 py-1 rounded-full text-sm font-semibold bg-gradient-to-r ${item.color} text-white shadow-md`}>
                        {item.subCategory}
                      </span>
                    </div>
                    <h3 className="text-2xl font-bold text-gray-800 mb-2 group-hover:text-pink-600 transition-colors">
                      {item.chinese}
                    </h3>
                    <p className="text-gray-600 text-sm font-medium bg-gray-100 px-3 py-1 rounded-lg">
                      {item.english}
                    </p>
                  </div>
                </div>

                {/* Description */}
                <div className="flex-1 space-y-4">
                  <div>
                    <h4 className="text-pink-600 font-bold mb-2 flex items-center gap-2">
                      <div className="w-3 h-3 bg-pink-400 rounded-full shadow-sm" />
                      用途與說明
                    </h4>
                    <p className="text-gray-700 leading-relaxed bg-pink-50 p-3 rounded-xl">
                      {item.description}
                    </p>
                  </div>

                  <div>
                    <h4 className="text-purple-600 font-bold mb-2 flex items-center gap-2">
                      <div className="w-3 h-3 bg-purple-400 rounded-full shadow-sm" />
                      建議用法
                    </h4>
                    <p className="text-gray-700 leading-relaxed bg-purple-50 p-3 rounded-xl">
                      {item.usage}
                    </p>
                  </div>
                </div>

                {/* Hover Glow Effect */}
                <div className={`absolute inset-0 bg-gradient-to-t ${item.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 pointer-events-none rounded-3xl`} />
              </div>
            </div>
          ))}
        </div>

        {/* Empty State */}
        {filteredData.length === 0 && (
          <div className="text-center py-16">
            <div className="text-6xl mb-6">🔍</div>
            <h3 className="text-3xl font-bold text-gray-700 mb-3">找不到相關結果</h3>
            <p className="text-gray-500 text-lg">嘗試調整搜尋條件或選擇不同的分類</p>
          </div>
        )}

        {/* Footer */}
        <div className="mt-20 text-center">
          <div className="inline-flex items-center gap-3 px-8 py-4 rounded-full bg-gradient-to-r from-pink-100 to-purple-100 border border-pink-200 shadow-lg">
            <Sparkles className="w-6 h-6 text-pink-500" />
            <span className="text-gray-700 font-medium">
              掌握這些專業詞彙，讓你的創作表達更精準有力
            </span>
          </div>
        </div>
      </div>
    </div>
  );
};

export default VisualGuide;
